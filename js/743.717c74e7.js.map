{"version":3,"file":"js/743.717c74e7.js","mappings":"0KAuCCA,GAOA,MAAO,CAKNC,IAPDD,EAAMA,GAAO,IAAIE,IAehBC,GAAA,SAA6BC,EAAWC,GACvC,IAAMC,EAAmDN,EAAKO,IAAIH,GAC9DE,EACHA,EAASE,KAAKH,GAGdL,EAAKS,IAAIL,EAAM,CAACC,GAAA,EAWlBK,IAAA,SAA8BN,EAAWC,GACxC,IAAMC,EAAmDN,EAAKO,IAAIH,GAC9DE,IACCD,EACHC,EAASK,OAAOL,EAASM,QAAQP,KAAa,EAAG,GAGjDL,EAAKS,IAAIL,EAAM,MAelBS,KAAA,SAA+BT,EAAWC,GACzC,IAAIC,EAAWN,EAAKO,IAAIH,GACpBE,GACFA,EACCQ,QACAC,KAAI,SAACf,GACLA,EAAQK,EAAA,KAIXC,EAAWN,EAAKO,IAAI,OAElBD,EACCQ,QACAC,KAAI,SAACf,GACLA,EAAQI,EAAMC,EAAA,MC/GpB,MAAMW,EAAUC,IAEhB,O,8CCFA,IACEC,IAAAA,MAAW,CACTC,OAAO,EACPC,mBAAmB,EACnBC,MAAO,M,+FCLF,aAAW,S,GACVC,MAAM,qC,GAKJC,EAAAA,EAAAA,GAAuC,QAAjC,cAAY,QAAO,KAAO,G,GAAhCC,G,iBAgBAD,EAAAA,EAAAA,GAAuC,QAAjC,cAAY,QAAO,KAAO,G,GAAhCE,G,0CAtBRC,EAAAA,EAAAA,IA0BM,MA1BNC,EA0BM,EAzBJJ,EAAAA,EAAAA,GAwBK,KAxBLK,EAwBK,EAvBHL,EAAAA,EAAAA,GAMK,MANDD,OAAKO,EAAAA,EAAAA,IAAA,CAAC,YAAW,UACyB,IAAvBC,EAAAC,MAAMC,iB,EAC3BT,EAAAA,EAAAA,GAGI,KAHDD,MAAM,YAAYW,KAAK,IAAI,aAAW,WACxCC,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAAC,GAAUC,EAAAC,WAAWT,EAAAC,MAAMC,aAAY,mB,sBAI/CN,EAAAA,EAAAA,IAQKc,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAPUX,EAAAC,MAAMW,aAAdC,K,WADPjB,EAAAA,EAAAA,IAQK,MARDJ,OAAKO,EAAAA,EAAAA,IAAA,CAAC,YAAW,QAGAc,IAASb,EAAAC,MAAMC,gBADnCY,IAAKD,G,EAGJpB,EAAAA,EAAAA,GAEI,KAFDD,MAAM,YAAYW,KAAK,IAAKC,SAAKE,EAAAA,EAAAA,KAAAC,GAAUC,EAAAC,WAAWI,IAAI,e,QACxDA,GAAI,EAAAE,IAAA,M,OAGXtB,EAAAA,EAAAA,GAMK,MANDD,OAAKO,EAAAA,EAAAA,IAAA,CAAC,YAAW,UACEC,EAAAC,MAAMC,eAAiBF,EAAAC,MAAMW,gB,EAClDnB,EAAAA,EAAAA,GAGI,KAHDD,MAAM,YAAYW,KAAK,IAAI,aAAW,OACxCC,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAAC,GAAUC,EAAAC,WAAWT,EAAAC,MAAMC,aAAY,mB,WAWrD,OACEc,MAAO,CAAC,SACRC,QAAS,CACPR,WAAWI,GACTK,KAAKC,MAAM,aAAaN,EAC1B,I,QCjCN,MAAMO,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,6KCJS7B,MAAM,gC,GACJA,MAAM,O,GACJA,MAAM,mC,GACLA,MAAM,c,iBAqBPA,MAAM,uB,GACJA,MAAM,O,GACJA,MAAM,qB,GACJA,MAAM,sC,+CAWLA,MAAM,oDACN8B,MAAA,2B,SAIA9B,MAAM,iDACN8B,MAAA,2B,GAGC9B,MAAM,qB,GACJA,MAAM,0D,GACHA,MAAM,gB,GAGNA,MAAM,uB,GAITA,MAAM,qD,GACHA,MAAM,4B,GAGNA,MAAM,c,GAOXA,MAAM,kC,kCASLA,MAAM,gDACN+B,KAAK,U,UAGP9B,EAAAA,EAAAA,GAA+B,KAA5BD,MAAM,mBAAiB,W,wBAO1BC,EAAAA,EAAAA,GAA+B,KAA5BD,MAAM,mBAAiB,W,mHAzF5CgC,EAAAA,EAAAA,IAAuCC,EAAA,CAA7BC,OAAQC,EAAAC,WAAS,oBAC3BnC,EAAAA,EAAAA,GAiGM,aAhGJA,EAAAA,EAAAA,GA+FM,MA/FNI,EA+FM,EA9FJJ,EAAAA,EAAAA,GA6FM,MA7FNK,EA6FM,EA5FJL,EAAAA,EAAAA,GAqBM,MArBNC,EAqBM,EApBJD,EAAAA,EAAAA,GAmBK,KAnBLoC,EAmBK,EAlBHpC,EAAAA,EAAAA,GAOS,UANPqC,KAAK,SACLtC,OAAKO,EAAAA,EAAAA,IAAA,CAAC,uCAAsC,CAAA2B,OAEP,KAAnBC,EAAAI,kBADjB3B,QAAKC,EAAA,KAAAA,EAAA,GAAAE,GAAEoB,EAAAI,eAAiB,KAE1B,SAED,kBACAnC,EAAAA,EAAAA,IASSc,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJQgB,EAAAK,YAARC,K,WALTrC,EAAAA,EAAAA,IASS,UARPkC,KAAK,SACLtC,OAAKO,EAAAA,EAAAA,IAAA,CAAC,uCAAsC,CAAA2B,OAE1BO,IAASN,EAAAI,kBAD1B3B,QAAKG,GAAEoB,EAAAI,eAAiBE,EAGxBnB,IAAKmB,I,QAEHA,GAAI,GAAAlB,M,WAIbtB,EAAAA,EAAAA,GAqEM,MArENE,EAqEM,EApEJF,EAAAA,EAAAA,GAmEM,MAnENyC,EAmEM,gBAlEJtC,EAAAA,EAAAA,IAiEMc,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAjE2CH,EAAA2B,kBAAXC,K,WAAtCxC,EAAAA,EAAAA,IAiEM,MAjENyC,EAiEM,EAhEJ5C,EAAAA,EAAAA,GA+DM,MA/DN6C,EA+DM,EA9DJ7C,EAAAA,EAAAA,GAMM,OANCW,QAAKG,GAAEgC,EAAAC,QAAQ9D,KAAK,YAAY0D,EAAQK,O,EAC7ChD,EAAAA,EAAAA,GAIE,OAHCiD,IAAKN,EAAQO,SACdnD,MAAM,oCACN8B,MAAA,kB,iBAGJ7B,EAAAA,EAAAA,GAWM,OAXDD,MAAM,OAAQY,SAAKE,EAAAA,EAAAA,KAAAC,GAAUC,EAAAoC,WAAWR,EAAQK,KAAE,c,EAEX,IAAlCd,EAAAkB,SAAS/D,QAAQsD,EAAQK,MAAE,WADnC7C,EAAAA,EAAAA,IAIK,IAJLkD,MAIK,WACLlD,EAAAA,EAAAA,IAIK,IAJLmD,KAIK,MAEPtD,EAAAA,EAAAA,GAmBM,MAnBNuD,EAmBM,EAlBJvD,EAAAA,EAAAA,GAOM,MAPNwD,EAOM,EANJxD,EAAAA,EAAAA,GAEQ,OAFRyD,GAEQC,EAAAA,EAAAA,IADHf,EAAQgB,OAAK,IAElB3D,EAAAA,EAAAA,GAES,OAFT4D,GAESF,EAAAA,EAAAA,IADPf,EAAQkB,UAAQ,MAGpB7D,EAAAA,EAAAA,GASM,MATN8D,EASM,EARJ9D,EAAAA,EAAAA,GAEC,OAFD+D,EACG,UAAML,EAAAA,EAAAA,IAAGZ,EAAAkB,SAASC,SAAStB,EAAQuB,QAAK,IAE3ClE,EAAAA,EAAAA,GAIC,OAJDmE,EAIC,EAHEnE,EAAAA,EAAAA,GAEA,WADE,SAAK0D,EAAAA,EAAAA,IAAGZ,EAAAkB,SAASC,SAAStB,EAAQyB,eAAY,UAKvDpE,EAAAA,EAAAA,GAsBM,MAtBNqE,EAsBM,EArBJrE,EAAAA,EAAAA,GAaS,UAZPqC,KAAK,SACJiC,SAAQ,KAAOC,OAAOC,cAAgB7B,EAAQK,GAC/CjD,MAAM,+BACLY,QAAKG,GAAEC,EAAA0D,QAAQ9B,EAAQK,K,CAGhBL,EAAQK,KAAOvB,KAAK8C,OAAOC,cAAW,WAD9CrE,EAAAA,EAAAA,IAKI,IALJuE,KAKI,eACJC,GAA+B,mBACjC,MACA3E,EAAAA,EAAAA,GAMS,UALPqC,KAAK,SACLtC,MAAM,8BACLY,QAAKG,GAAEC,EAAA6D,WAAWjC,EAAQK,K,CAE3B6B,GAA+B,mBACjC,c,iBASZ9C,EAAAA,EAAAA,IAAuE+C,EAAA,CAA1DtE,MAAO0B,EAAA6C,WAAaC,YAAYjE,EAAAkE,a,oEAMnD,GACEC,WAAY,CACVC,WAAUA,EAAAA,GAGZC,OACE,MAAO,CACLC,SAAU,CAAC,EACXN,WAAY,CAAC,EACbR,OAAQ,CACNC,YAAa,IAEfrC,WAAW,EACXmD,QAAS,GACT/C,WAAY,CACV,MACA,KACA,QAEFD,eAAgB,GAChBc,SAAUmC,KAAKC,MAAMC,aAAaC,QAAQ,gBAAkB,GAEhE,EACAC,SAAU,CACRjD,mBACE,OAAIjB,KAAKa,eACAb,KAAK4D,SAASO,QAAQpD,IAC3B,MAAM4C,EAAO5C,EAAKqB,SACfgC,cACAC,SAASrE,KAAKa,eAAeuD,eAChC,OAAOT,CAAI,IAGR3D,KAAK4D,QACd,GAEFU,OAAQ,CAAC,UAAW,qBACpBvE,QAAS,CACPyD,YAAY7D,EAAO,GACjBK,KAAKU,WAAY,EACjB,MAAM6D,EAAO,qEAA0E5E,IACvF6E,QAAQC,IAAIF,GACZvE,KAAK0E,MAAMnH,IAAIgH,GAAKI,MAAMC,IACxBJ,QAAQC,IAAIG,GACZ5E,KAAKU,WAAY,EACjBV,KAAK4D,SAAWgB,EAAIjB,KAAKC,SACzB5D,KAAKsD,WAAasB,EAAIjB,KAAKL,WAC3BtF,EAAAA,EAAQH,KAAK,YACb,MAAM,aAAEgH,GAAiB7E,KAAK8E,OAAOC,OACjCF,IACF7E,KAAKa,eAAiBgE,EACxB,GAEJ,EACA1B,WAAW5B,GAETvB,KAAKsB,QAAQ9D,KAAM,YAAW+D,IAChC,EACAyB,QAAQzB,GACNvB,KAAKU,WAAY,EACjB,MAAM6D,EAAO,2DACbvE,KAAK+C,YAAcxB,EACnB,MAAMyD,EAAO,CACXC,WAAY1D,EACZ2D,IAAK,GAEPlF,KAAK0E,MAAMS,KAAKZ,EAAK,CAAEZ,KAAMqB,IAAQL,MAAMC,IACzC5E,KAAKU,WAAY,EAEjBV,KAAK+C,YAAc,GACnB/C,KAAK6D,QAAUe,EAAIjB,KAAKE,QACxBW,QAAQC,IAAIzE,KAAK6D,SAEjBuB,EAAAA,EAAMC,KAAK,CACTC,KAAM,UACNpD,MAAOlC,KAAK6D,UAEd7F,EAAAA,EAAQH,KAAK,WAAW,GAE5B,EACA6D,WAAWH,GACT,MAAMgE,EAAWvF,KAAK2B,SAAS/D,QAAQ2D,IACrB,IAAdgE,GACFvF,KAAK2B,SAASnE,KAAK+D,GAGnB6D,EAAAA,EAAMC,KAAK,CACTC,KAAM,UACNpD,MAAO,WAGTlC,KAAK2B,SAAShE,OAAO4H,EAAU,GAC/BH,EAAAA,EAAMC,KAAK,CACTC,KAAM,QACNpD,MAAO,UAGX8B,aAAawB,QAAQ,aAAc1B,KAAK2B,UAAUzF,KAAK2B,UACzD,GAEF+D,UACE1F,KAAKwD,aACP,G,QCzMF,MAAMtD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://vue-shopping/../src/index.ts","webpack://vue-shopping/./src/methods/emitter.js","webpack://vue-shopping/./src/utils/Toast.js","webpack://vue-shopping/./src/components/layout/Pagination.vue","webpack://vue-shopping/./src/components/layout/Pagination.vue?3f26","webpack://vue-shopping/./src/views/front/Products.vue","webpack://vue-shopping/./src/views/front/Products.vue?f506"],"sourcesContent":["export type EventType = string | symbol;\n\n// An event handler can take an optional event argument\n// and should not return a value\nexport type Handler<T = unknown> = (event: T) => void;\nexport type WildcardHandler<T = Record<string, unknown>> = (\n\ttype: keyof T,\n\tevent: T[keyof T]\n) => void;\n\n// An array of all currently registered event handlers for a type\nexport type EventHandlerList<T = unknown> = Array<Handler<T>>;\nexport type WildCardEventHandlerList<T = Record<string, unknown>> = Array<WildcardHandler<T>>;\n\n// A map of event types and their corresponding event handlers.\nexport type EventHandlerMap<Events extends Record<EventType, unknown>> = Map<\n\tkeyof Events | '*',\n\tEventHandlerList<Events[keyof Events]> | WildCardEventHandlerList<Events>\n>;\n\nexport interface Emitter<Events extends Record<EventType, unknown>> {\n\tall: EventHandlerMap<Events>;\n\n\ton<Key extends keyof Events>(type: Key, handler: Handler<Events[Key]>): void;\n\ton(type: '*', handler: WildcardHandler<Events>): void;\n\n\toff<Key extends keyof Events>(type: Key, handler?: Handler<Events[Key]>): void;\n\toff(type: '*', handler: WildcardHandler<Events>): void;\n\n\temit<Key extends keyof Events>(type: Key, event: Events[Key]): void;\n\temit<Key extends keyof Events>(type: undefined extends Events[Key] ? Key : never): void;\n}\n\n/**\n * Mitt: Tiny (~200b) functional event emitter / pubsub.\n * @name mitt\n * @returns {Mitt}\n */\nexport default function mitt<Events extends Record<EventType, unknown>>(\n\tall?: EventHandlerMap<Events>\n): Emitter<Events> {\n\ttype GenericEventHandler =\n\t\t| Handler<Events[keyof Events]>\n\t\t| WildcardHandler<Events>;\n\tall = all || new Map();\n\n\treturn {\n\n\t\t/**\n\t\t * A Map of event names to registered handler functions.\n\t\t */\n\t\tall,\n\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t * @param {string|symbol} type Type of event to listen for, or `'*'` for all events\n\t\t * @param {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton<Key extends keyof Events>(type: Key, handler: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\thandlers.push(handler);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tall!.set(type, [handler] as EventHandlerList<Events[keyof Events]>);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t * If `handler` is omitted, all handlers of the given type are removed.\n\t\t * @param {string|symbol} type Type of event to unregister `handler` from, or `'*'`\n\t\t * @param {Function} [handler] Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff<Key extends keyof Events>(type: Key, handler?: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\tif (handler) {\n\t\t\t\t\thandlers.splice(handlers.indexOf(handler) >>> 0, 1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tall!.set(type, []);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `'*'` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * Note: Manually firing '*' handlers is not supported.\n\t\t *\n\t\t * @param {string|symbol} type The event type to invoke\n\t\t * @param {Any} [evt] Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit<Key extends keyof Events>(type: Key, evt?: Events[Key]) {\n\t\t\tlet handlers = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as EventHandlerList<Events[keyof Events]>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(evt!);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\thandlers = all!.get('*');\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as WildCardEventHandlerList<Events>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(type, evt!);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n","import mitt from 'mitt';\r\n\r\nconst emitter = mitt();\r\n\r\nexport default emitter;","import Swal from 'sweetalert2';\n\nexport default (\n  Swal.mixin({\n    toast: true,\n    showConfirmButton: false,\n    timer: 2500,\n  })\n);\n","<template>\r\n    <nav aria-label=\"Page \">\r\n      <ul class=\"pagination justify-content-center\">\r\n        <li class=\"page-item\"\r\n        :class=\"{ 'disabled' : pages.current_page === 1}\">\r\n          <a class=\"page-link\" href=\"#\" aria-label=\"Previous\"\r\n          @click.prevent=\"updatePage(pages.current_page-1)\">\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n          </a>\r\n        </li>\r\n        <li class=\"page-item\" \r\n        v-for=\"page in pages.total_pages\"\r\n        :key=\"page\"\r\n        :class=\"{ 'active' : page === pages.current_page}\"\r\n        >\r\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">\r\n            {{ page }}\r\n          </a>\r\n        </li>\r\n        <li class=\"page-item\"\r\n        :class=\"{ 'disabled' : pages.current_page === pages.total_pages}\">\r\n          <a class=\"page-link\" href=\"#\" aria-label=\"Next\"\r\n          @click.prevent=\"updatePage(pages.current_page+1)\">\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </template>\r\n  \r\n  <script>\r\n  // :pages=\"{ 頁碼資訊 }\"\r\n  // @emitPages=\"更新頁面事件\"\r\n  export default {\r\n    props: ['pages'],\r\n    methods: {\r\n      updatePage(page) {\r\n        this.$emit('emit-pages',page)\r\n      },\r\n    },\r\n  };\r\n  </script>","import { render } from \"./Pagination.vue?vue&type=template&id=78e43eb1\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <loading :active=\"isLoading\"></loading>\r\n  <div >\r\n    <div class=\"container-fluid mt-md-5 mb-7 \">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-2 col-sm-12 mb-3 mt-sm-2\">\r\n          <ul class=\"list-group \">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-brown rounded-4 mb-2\"\r\n              @click=\"filterCategory = ''\"\r\n              :class=\"{ active: filterCategory === '' }\"\r\n            >\r\n              全部商品\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-brown rounded-4 mb-2\"\r\n              @click=\"filterCategory = item\"\r\n              :class=\"{ active: item === filterCategory }\"\r\n              v-for=\"item in categories\"\r\n              :key=\"item\"\r\n            >\r\n              {{ item }}\r\n            </button>\r\n          </ul>\r\n        </div>\r\n        <div class=\"col-md-10 col-sm-12\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6 col-lg-4\" v-for=\"product in filterCategories\">\r\n              <div class=\"card border mb-4 position-relative\">\r\n                <div  @click=\"$router.push(`/product/${product.id}`)\">\r\n                  <img\r\n                    :src=\"product.imageUrl\"\r\n                    class=\"card-img-top object-fit img-hover \"\r\n                    style=\"height: 300px\"\r\n                  />\r\n                </div>\r\n                <div class=\"fs-3\" @click.prevent=\"editfollow(product.id)\">\r\n                  <i\r\n                    v-if=\"followed.indexOf(product.id) === -1\"\r\n                    class=\"bi bi-heart-fill text-secondary position-absolute\"\r\n                    style=\"top: 16px; right: 16px\"\r\n                  ></i>\r\n                  <i\r\n                    v-else\r\n                    class=\"bi bi-heart-fill text-danger position-absolute\"\r\n                    style=\"top: 16px; right: 16px\"\r\n                  ></i>\r\n                </div>\r\n                <div class=\"card-body p-0 p-2\">\r\n                  <div class=\"d-flex justify-content-between align-items-center my-2\">\r\n                    <span class=\"fw-bold fs-4\">\r\n                      {{ product.title }}\r\n                    </span >\r\n                    <span class=\"badge pill bg-brown\">{{\r\n                      product.category\r\n                    }}</span>\r\n                  </div>\r\n                  <div class=\"d-flex justify-content-between align-items-center\">\r\n                    <span class=\"fs-5 text-danger fw-bold\"\r\n                      >特價 NT${{ $filters.currency(product.price) }}</span\r\n                    >\r\n                    <span class=\"text-muted\"\r\n                      ><del\r\n                        >原價NT${{ $filters.currency(product.origin_price) }}</del\r\n                      ></span\r\n                    >\r\n                  </div>\r\n                </div>\r\n                <div class=\"d-flex justify-content-between\">\r\n                  <button\r\n                    type=\"button\"\r\n                    :disabled=\"this.status.loadingItem === product.id\"\r\n                    class=\"btn btn-outline-success w-50\"\r\n                    @click=\"addCart(product.id)\"\r\n                  >\r\n                    <i\r\n                      v-if=\"product.id === this.status.loadingItem\"\r\n                      class=\"spinner-border spinner-border-sm text-success\"\r\n                      role=\"status\"\r\n                    >\r\n                    </i>\r\n                    <i class=\"bi bi-cart-fill\"></i> 加入購物\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn btn-outline-danger w-50\"\r\n                    @click=\"getProduct(product.id)\"\r\n                  >\r\n                    <i class=\"bi bi-book-fill\"></i> 商品介紹\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n      <Pagination :pages=\"pagination\" @emit-pages=\"getProducts\"></Pagination>\r\n</template>\r\n<script>\r\nimport Toast from \"@/utils/Toast\";\r\nimport emitter from \"@/methods/emitter\";\r\nimport Pagination from \"@/components/layout/Pagination.vue\";\r\nexport default {\r\n  components: {\r\n    Pagination,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      products: {},\r\n      pagination: {},\r\n      status: {\r\n        loadingItem: \"\",\r\n      },\r\n      isLoading: false,\r\n      message: [],\r\n      categories: [\r\n        \"生乳捲\",\r\n        \"蛋糕\",\r\n        \"周邊商品\",\r\n      ],\r\n      filterCategory: \"\",\r\n      followed: JSON.parse(localStorage.getItem(\"followList\")) || [],\r\n    };\r\n  },\r\n  computed: {\r\n    filterCategories() {\r\n      if (this.filterCategory) {\r\n        return this.products.filter((item) => {\r\n          const data = item.category\r\n            .toLowerCase()\r\n            .includes(this.filterCategory.toLowerCase());\r\n          return data;\r\n        });\r\n      }\r\n      return this.products;\r\n    },\r\n  },\r\n  inject: [\"emitter\", \"$httpMessageState\"],\r\n  methods: {\r\n    getProducts(page = 1 ) {\r\n      this.isLoading = true;\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}`;\r\n      console.log(url);\r\n      this.$http.get(url).then((res) => {\r\n        console.log(res);\r\n        this.isLoading = false;\r\n        this.products = res.data.products;\r\n        this.pagination = res.data.pagination;\r\n        emitter.emit(\"get-cart\");\r\n        const { categoryName } = this.$route.params;\r\n        if (categoryName) {\r\n          this.filterCategory = categoryName;\r\n        }\r\n      });\r\n    },\r\n    getProduct(id) {\r\n      // console.log(id);\r\n      this.$router.push(`/product/${id}`);\r\n    },\r\n    addCart(id) {\r\n      this.isLoading = true;\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      this.loadingItem = id;\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1,\r\n      };\r\n      this.$http.post(url, { data: cart }).then((res) => {\r\n        this.isLoading = false;\r\n        // console.log(res);\r\n        this.loadingItem = \"\";\r\n        this.message = res.data.message;\r\n        console.log(this.message);\r\n        // this.$httpMessageState(res);\r\n        Toast.fire({\r\n          icon: 'success',\r\n          title: this.message,\r\n        });\r\n        emitter.emit(\"get-cart\");\r\n      });\r\n    },\r\n    editfollow(id) {\r\n      const followId = this.followed.indexOf(id);\r\n      if (followId === -1) {\r\n        this.followed.push(id);\r\n        // console.log(\"收藏\");\r\n        // console.log(this.followed);\r\n        Toast.fire({\r\n          icon: 'success',\r\n          title: \"收藏成功\",\r\n        });\r\n      } else {\r\n        this.followed.splice(followId, 1);\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: \"取消收藏\",\r\n        });\r\n      }\r\n      localStorage.setItem(\"followList\", JSON.stringify(this.followed));\r\n    },\r\n  },\r\n  created() {\r\n    this.getProducts();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.img-hover {\r\n  transition: all 0.3s ease-out;\r\n  &:hover {\r\n    filter: brightness(70%);\r\n  }\r\n}\r\n\r\n\r\n</style>\r\n","import { render } from \"./Products.vue?vue&type=template&id=574ca512&scoped=true\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport \"./Products.vue?vue&type=style&index=0&id=574ca512&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-574ca512\"]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","Swal","toast","showConfirmButton","timer","class","_createElementVNode","_hoisted_3","_hoisted_6","_createElementBlock","_hoisted_1","_hoisted_2","_normalizeClass","$props","pages","current_page","href","onClick","_cache","_withModifiers","$event","$options","updatePage","_Fragment","_renderList","total_pages","page","key","_hoisted_5","props","methods","this","$emit","__exports__","render","style","role","_createVNode","_component_loading","active","$data","isLoading","_hoisted_4","type","filterCategory","categories","item","_hoisted_7","filterCategories","product","_hoisted_8","_hoisted_9","_ctx","$router","id","src","imageUrl","editfollow","followed","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_toDisplayString","title","_hoisted_18","category","_hoisted_19","_hoisted_20","$filters","currency","price","_hoisted_21","origin_price","_hoisted_22","disabled","status","loadingItem","addCart","_hoisted_24","_hoisted_25","getProduct","_hoisted_27","_component_Pagination","pagination","onEmitPages","getProducts","components","Pagination","data","products","message","JSON","parse","localStorage","getItem","computed","filter","toLowerCase","includes","inject","url","console","log","$http","then","res","categoryName","$route","params","cart","product_id","qty","post","Toast","fire","icon","followId","setItem","stringify","created"],"sourceRoot":""}