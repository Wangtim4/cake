{"version":3,"file":"js/586.3ec22c60.js","mappings":"+MAEOA,MAAM,sB,GACJA,MAAM,a,GACJA,MAAM,8D,GACJA,MAAM,Y,GACJA,MAAM,oC,GACTC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,mCAAiC,EAC1CC,EAAAA,EAAAA,GAAsC,MAAlCD,MAAM,oBAAmB,UAAI,G,GAE9BA,MAAM,c,aAOJA,MAAM,S,GACJA,MAAM,0C,GACNA,MAAM,Q,GAGNA,MAAM,Q,GAENA,MAAM,kC,GACNA,MAAM,mB,GAMNA,MAAM,Q,GAMVA,MAAM,sD,GACTC,EAAAA,EAAAA,GAAiC,KAA9BD,MAAM,kBAAiB,OAAG,G,GAC1BA,MAAM,gC,GAOVA,MAAM,Y,GAEAA,MAAM,S,GACXC,EAAAA,EAAAA,GAMQ,SANDD,MAAM,sCAAoC,EAC/CC,EAAAA,EAAAA,GAIK,YAHHA,EAAAA,EAAAA,GAEK,MAFDC,QAAQ,KAAG,EACXD,EAAAA,EAAAA,GAAuC,QAAjCD,MAAM,gBAAe,eAAK,G,GAMpCC,EAAAA,EAAAA,GAA0B,MAAtBE,MAAM,OAAM,SAAK,G,GAIrBF,EAAAA,EAAAA,GAAW,UAAP,MAAE,G,GAINA,EAAAA,EAAAA,GAAc,UAAV,SAAK,G,GAITA,EAAAA,EAAAA,GAAc,UAAV,SAAK,G,GAITA,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,GAIRA,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,GAIRA,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,mBAGOD,MAAM,gB,GAKtBA,MAAM,iB,SAC8BA,MAAM,6B,oHA1FzDI,EAAAA,EAAAA,IAAuCC,EAAA,CAA7BC,OAAQC,EAAAC,WAAS,oBAC3BP,EAAAA,EAAAA,GAgGM,MAhGNQ,EAgGM,EA/FJR,EAAAA,EAAAA,GA8FM,MA9FNS,EA8FM,EA7FJT,EAAAA,EAAAA,GA4FM,MA5FNU,EA4FM,EA3FJV,EAAAA,EAAAA,GAuCM,MAvCNW,EAuCM,EAtCJX,EAAAA,EAAAA,GAqCM,MArCNY,EAqCM,CApCJC,IAEM,aACNC,EAAAA,EAAAA,IA0BMC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IA1BiCV,EAAAW,MAAMC,UAAdC,K,WAA/BL,EAAAA,EAAAA,IA0BM,MA1BNM,EA0BM,EAzBJpB,EAAAA,EAAAA,GAKE,OAJCqB,IAAKF,EAAKG,QAAQC,SACnBC,IAAI,GACJzB,MAAM,OACN0B,MAAA,mD,WAEFzB,EAAAA,EAAAA,GAkBM,MAlBN0B,EAkBM,EAjBJ1B,EAAAA,EAAAA,GAKM,MALN2B,EAKM,EAJJ3B,EAAAA,EAAAA,GAEI,IAFJ4B,GAEIC,EAAAA,EAAAA,IADCV,EAAKG,QAAQQ,OAAK,IAEvB9B,EAAAA,EAAAA,GAAoC,IAApC+B,EAAgB,MAAEF,EAAAA,EAAAA,IAAGV,EAAKa,KAAG,MAE/BhC,EAAAA,EAAAA,GAUM,MAVNiC,EAUM,EATJjC,EAAAA,EAAAA,GAKI,IALJkC,EAKI,EAJFlC,EAAAA,EAAAA,GAGC,aAFE,UACD6B,EAAAA,EAAAA,IAAGM,EAAAC,SAASC,SAASlB,EAAKG,QAAQgB,QAAK,MAG3CtC,EAAAA,EAAAA,GAEI,IAFJuC,EAAgB,QACXV,EAAAA,EAAAA,IAAGM,EAAAC,SAASC,SAASlB,EAAKqB,cAAW,Y,OAKhDxC,EAAAA,EAAAA,GAKM,MALNyC,EAKM,CAJJC,GACA1C,EAAAA,EAAAA,GAEI,IAFJ2C,EAAwC,QACnCd,EAAAA,EAAAA,IAAGM,EAAAC,SAASC,SAAS/B,EAAAW,MAAM2B,QAAK,UAM3C5C,EAAAA,EAAAA,GAiDM,MAjDN6C,EAiDM,EAhDJ7C,EAAAA,EAAAA,GA+CO,QA/CA8C,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAUC,EAAAC,UAAAD,EAAAC,YAAAF,IAAQ,e,EAC7BjD,EAAAA,EAAAA,GAyCQ,QAzCRoD,EAyCQ,CAxCNC,GAOArD,EAAAA,EAAAA,GAgCQ,eA/BNA,EAAAA,EAAAA,GAGK,WAFHsD,GACAtD,EAAAA,EAAAA,GAA+B,WAAA6B,EAAAA,EAAAA,IAAxBvB,EAAAW,MAAMsC,KAAKC,OAAK,MAEzBxD,EAAAA,EAAAA,GAGK,WAFHyD,GACAzD,EAAAA,EAAAA,GAA8B,WAAA6B,EAAAA,EAAAA,IAAvBvB,EAAAW,MAAMsC,KAAKG,MAAI,MAExB1D,EAAAA,EAAAA,GAGK,WAFH2D,GACA3D,EAAAA,EAAAA,GAA6B,WAAA6B,EAAAA,EAAAA,IAAtBvB,EAAAW,MAAMsC,KAAKK,KAAG,MAEvB5D,EAAAA,EAAAA,GAGK,WAFH6D,GACA7D,EAAAA,EAAAA,GAAiC,WAAA6B,EAAAA,EAAAA,IAA1BvB,EAAAW,MAAMsC,KAAKO,SAAO,MAE3B9D,EAAAA,EAAAA,GAGK,WAFH+D,GACA/D,EAAAA,EAAAA,GAAiC,WAAA6B,EAAAA,EAAAA,IAA1BvB,EAAAW,MAAMsC,KAAKS,SAAO,MAE3BhE,EAAAA,EAAAA,GAGK,WAFHiE,GACAjE,EAAAA,EAAAA,GAAuB,WAAA6B,EAAAA,EAAAA,IAAhBvB,EAAAW,MAAMiD,IAAE,MAEjBlE,EAAAA,EAAAA,GAMK,WALHmE,GACAnE,EAAAA,EAAAA,GAGK,WAFUM,EAAAW,MAAMmD,UAAa,WAChCtD,EAAAA,EAAAA,IAAkE,OAAlEuD,EAAkC,gCADR,WAA1BvD,EAAAA,EAAAA,IAAuC,OAAAwD,EAAX,kBAMpCtE,EAAAA,EAAAA,GAGM,MAHNuE,EAGM,EAF4B,IAAlBjE,EAAAW,MAAMmD,UAAO,WAA3BtD,EAAAA,EAAAA,IAAuF,SAAvF0D,EAAyE,WAAK,gBAC9ErE,EAAAA,EAAAA,IAAkEsE,EAAA,CAArDC,GAAG,IAAI3E,MAAM,uB,mBAAuB,IAAG,UAAH,U,0BAS/D,OACE4E,OACE,MAAO,CACL1D,MAAO,CACLsC,KAAM,CAAC,GAETqB,QAAS,GACTrE,WAAW,EAEf,EACAsE,QAAS,CACPC,WACE,MAAMC,EAAO,6DAAkEC,KAAKJ,UACpFI,KAAKC,MAAMC,IAAIH,GAAKI,MAAMC,IACxBC,QAAQC,IAAIF,GACZJ,KAAK/D,MAAQmE,EAAIT,KAAK1D,MACtBoE,QAAQC,IAAIN,KAAK/D,MAAM,GAE3B,EACAkC,WACE,MAAM4B,EAAO,2DAAgEC,KAAKJ,UAClFI,KAAKC,MAAMM,KAAKR,GAAKI,MAAMC,IACzBC,QAAQC,IAAIF,GACTA,EAAIT,KAAKa,SACVR,KAAKF,UACP,GAEJ,GAEFW,UACET,KAAKJ,QAAUI,KAAKU,OAAOC,OAAOf,QAElCI,KAAKF,UACP,G,QCjIF,MAAMc,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://vue-shopping/./src/views/front/Checkout.vue","webpack://vue-shopping/./src/views/front/Checkout.vue?cf3e"],"sourcesContent":["<template>\r\n  <loading :active=\"isLoading\"></loading>\r\n  <div class=\"bg-light pt-5 pb-7\">\r\n    <div class=\"container\">\r\n      <div class=\"row justify-content-center flex-md-row flex-column-reverse\">\r\n        <div class=\"col-md-6\">\r\n          <div class=\"border-0 shadow-lg mb-4 bg-white\">\r\n            <div class=\"bg-brown text-white text-center\">\r\n              <h4 class=\"mb-4 fw-bold p-3\">購物清單</h4>\r\n            </div>\r\n            <div class=\"d-flex m-4\" v-for=\"item in order.products\">\r\n              <img\r\n                :src=\"item.product.imageUrl\"\r\n                alt=\"\"\r\n                class=\"me-2\"\r\n                style=\"width: 48px; height: 48px; object-fit: cover\"\r\n              />\r\n              <div class=\"w-100\">\r\n                <div class=\"d-flex justify-content-between fw-bold\">\r\n                  <p class=\"mb-0\">\r\n                    {{ item.product.title }}\r\n                  </p>\r\n                  <p class=\"mb-0\">x {{ item.qty }}</p>\r\n                </div>\r\n                <div class=\"d-flex justify-content-between\">\r\n                  <p class=\"text-muted mb-0\">\r\n                    <small\r\n                      >原價NT$\r\n                      {{ $filters.currency(item.product.price) }}</small\r\n                    >\r\n                  </p>\r\n                  <p class=\"mb-0\">\r\n                    NT${{ $filters.currency(item.final_total) }}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"d-flex justify-content-between bg-brown text-white\">\r\n              <p class=\"h4 fw-bold m-2\">總金額</p>\r\n              <p class=\"h4 fw-bold my-2 m-2 text-end\">\r\n                NT${{ $filters.currency(order.total) }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-md-6\">\r\n          <form @submit.prevent=\"payOrder\">\r\n            <table class=\"table\">\r\n              <thead class=\"table-brown text-white text-center\">\r\n                <tr>\r\n                  <td colspan=\"2\">\r\n                      <span class=\"fw-bold fs-4\">收件人資料</span>\r\n                  </td>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <th width=\"100\">Email</th>\r\n                  <td>{{ order.user.email }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>姓名</th>\r\n                  <td>{{ order.user.name }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>收件人電話</th>\r\n                  <td>{{ order.user.tel }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>收件人地址</th>\r\n                  <td>{{ order.user.address }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>付款方式</th>\r\n                  <td>{{ order.user.payment }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>訂單編號</th>\r\n                  <td>{{ order.id }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>付款狀態</th>\r\n                  <td>\r\n                    <span v-if=\"!order.is_paid\">尚未付款</span>\r\n                    <span v-else class=\"text-success\">付款完成，成立訂單後約 3 - 5 的工作天出貨。</span>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <div class=\"text-end mb-5\" >\r\n              <button v-if=\"order.is_paid === false\" class=\"btn btn-danger w-100 mb-2\">確認付款去</button>\r\n              <router-link to=\"/\" class=\"btn btn-brown w-100 \">回首頁</router-link>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      order: {\r\n        user: {},\r\n      },\r\n      orderId: \"\",\r\n      isLoading: false,\r\n    };\r\n  },\r\n  methods: {\r\n    getOrder() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\r\n      this.$http.get(url).then((res) => {\r\n        console.log(res);\r\n        this.order = res.data.order;\r\n        console.log(this.order);\r\n      });\r\n    },\r\n    payOrder(){\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\r\n      this.$http.post(url).then((res)=>{\r\n        console.log(res);\r\n        if(res.data.success){\r\n          this.getOrder();\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.orderId = this.$route.params.orderId;\r\n    // console.log(this.orderId);\r\n    this.getOrder();\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Checkout.vue?vue&type=template&id=d2d0ab2e\"\nimport script from \"./Checkout.vue?vue&type=script&lang=js\"\nexport * from \"./Checkout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","colspan","width","_createVNode","_component_loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createElementBlock","_Fragment","_renderList","order","products","item","_hoisted_7","src","product","imageUrl","alt","style","_hoisted_9","_hoisted_10","_hoisted_11","_toDisplayString","title","_hoisted_12","qty","_hoisted_13","_hoisted_14","_ctx","$filters","currency","price","_hoisted_15","final_total","_hoisted_16","_hoisted_17","_hoisted_18","total","_hoisted_19","onSubmit","_cache","_withModifiers","args","$options","payOrder","_hoisted_20","_hoisted_21","_hoisted_22","user","email","_hoisted_23","name","_hoisted_24","tel","_hoisted_25","address","_hoisted_26","payment","_hoisted_27","id","_hoisted_28","is_paid","_hoisted_30","_hoisted_29","_hoisted_31","_hoisted_32","_component_router_link","to","data","orderId","methods","getOrder","url","this","$http","get","then","res","console","log","post","success","created","$route","params","__exports__","render"],"sourceRoot":""}